{% load static %}



<div id="post_block" class="jumbotron">
    {# USER AND POST INFO SECTION #}
    <div>
        <a id="user_prof_anchor" href="{% url 'profile' id=post_data.profile.user.id %}">
            <img id="user_prof_img" src="{{ post_data.profile.profile_picture.url }}" alt="Image not found">
        </a>
        <a href="{% url 'profile' id=post_data.profile.user.id %}">
            <p id="user_name">{{ post_data.profile }}</p>
        </a>
        <p id="post_published">{{ post_data.published }}</p>
    </div>
    {# TEXT SECTION #}
    <article id="post_text" class="text">{{ post_data.post.text }}</article>
    {# IMAGES SECTION #}
    <div>
        {% for image in post_data.images %}
            <a class="gallery-link" onclick="gallery_link({{ auth_profile_user.user.id }})"
               href="{% url 'gallery' post_id=post_data.post.id image_id=image.id %}">
                <img id="post_img" src="{{ image.image.url }}" alt="Image not found">
            </a>
        {% endfor %}
    </div>
    {# BUTTONS AND LIKES SECTION#}

    <div>
        <div id="like-button-{{ post_data.post.id }}">
            {% if post_data.like %}
                <button class='btn btn-primary' id="unlike-{{ post_data.post.id }}"
                        onclick="likePostButton({{ post_data.post.id }}, 'unlike')">unlike</button>
            {% else %}
                <button class='btn btn-secondary' id="like-{{ post_data.post.id }}"
                        onclick="likePostButton({{ post_data.post.id }}, 'like')">like</button>
            {% endif %}
        </div>


    </div>
{#    COMMENTS SECTION#}
    <div>
        {% for comment in post_data.comment_tree %}
            <div>
                <p>{{ comment.0.text }}</p>
                <p>{{ comment.0.user_profile }}</p>
            </div>
        {% endfor %}
    </div>



{#    NEW COMMENT SECTION#}
    <div class="row" style="width: 100%; margin: 10px">
        <div class="col-10" style="padding: 0;">
            <textarea id="new-comment_content-{{ post_data.post.id }}" class="autoresizing"
                      placeholder="Write a comment..."></textarea>
        </div>
        <div class="col-2" style="padding: 0">
            <button id="new-comment-button-{{ post_data.post.id }}" onclick="commentPostButton({{ post_data.post.id }})"
            >publish</button>
        </div>
    </div>







</div>